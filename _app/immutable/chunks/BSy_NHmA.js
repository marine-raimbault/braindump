var V=Object.defineProperty;var B=e=>{throw TypeError(e)};var W=(e,s,t)=>s in e?V(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t;var U=(e,s,t)=>W(e,typeof s!="symbol"?s+"":s,t),x=(e,s,t)=>s.has(e)||B("Cannot "+t);var r=(e,s,t)=>(x(e,s,"read from private field"),t?t.call(e):s.get(e)),b=(e,s,t)=>s.has(e)?B("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,t),y=(e,s,t,a)=>(x(e,s,"write to private field"),a?a.call(e,t):s.set(e,t),t);import{G as C,H as X,I as D,J as j,x as F,K as $,h as N,C as ee,L as se,M as te,N as ae,a as re,O as ie,P as ne,Q as fe,S as ue,U as ce,E as de,V as H,W as he,X as le,d as G,Y as oe,Z,_ as _e,$ as ve,o as k,a0 as be,a1 as z,i as p,a2 as ge,a3 as Se,a4 as Te,a5 as Ae,a6 as Ee,y as Ie,a7 as Pe,a8 as Re,v as pe,a9 as Oe,aa as me,k as De,ab as Ne,ac as Me,ad as Le}from"./BWgVtcw-.js";import{s as we,g as Ye}from"./C2WC9aJk.js";var l,o,h,g,E,I,O;class Be{constructor(s,t=!0){U(this,"anchor");b(this,l,new Map);b(this,o,new Map);b(this,h,new Map);b(this,g,new Set);b(this,E,!0);b(this,I,()=>{var s=C;if(r(this,l).has(s)){var t=r(this,l).get(s),a=r(this,o).get(t);if(a)X(a),r(this,g).delete(t);else{var n=r(this,h).get(t);n&&(r(this,o).set(t,n.effect),r(this,h).delete(t),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),a=n.effect)}for(const[i,u]of r(this,l)){if(r(this,l).delete(i),i===s)break;const f=r(this,h).get(u);f&&(D(f.effect),r(this,h).delete(u))}for(const[i,u]of r(this,o)){if(i===t||r(this,g).has(i))continue;const f=()=>{if(Array.from(r(this,l).values()).includes(i)){var _=document.createDocumentFragment();se(u,_),_.append(F()),r(this,h).set(i,{effect:u,fragment:_})}else D(u);r(this,g).delete(i),r(this,o).delete(i)};r(this,E)||!a?(r(this,g).add(i),j(u,f,!1)):f()}}});b(this,O,s=>{r(this,l).delete(s);const t=Array.from(r(this,l).values());for(const[a,n]of r(this,h))t.includes(a)||(D(n.effect),r(this,h).delete(a))});this.anchor=s,y(this,E,t)}ensure(s,t){var a=C,n=te();if(t&&!r(this,o).has(s)&&!r(this,h).has(s))if(n){var i=document.createDocumentFragment(),u=F();i.append(u),r(this,h).set(s,{effect:$(()=>t(u)),fragment:i})}else r(this,o).set(s,$(()=>t(this.anchor)));if(r(this,l).set(a,s),n){for(const[f,c]of r(this,o))f===s?a.unskip_effect(c):a.skip_effect(c);for(const[f,c]of r(this,h))f===s?a.unskip_effect(c.effect):a.skip_effect(c.effect);a.oncommit(r(this,I)),a.ondiscard(r(this,O))}else N&&(this.anchor=ee),r(this,I).call(this)}}l=new WeakMap,o=new WeakMap,h=new WeakMap,g=new WeakMap,E=new WeakMap,I=new WeakMap,O=new WeakMap;function Fe(e,s,t=!1){N&&re();var a=new Be(e),n=t?ie:0;function i(u,f){if(N){const v=ne(e);var c;if(v===fe?c=0:v===ue?c=!1:c=parseInt(v.substring(1)),u!==c){var _=ce();de(_),a.anchor=_,H(!1),a.ensure(u,f),H(!0);return}}a.ensure(u,f)}ae(()=>{var u=!1;s((f,c=0)=>{u=!0,i(c,f)}),u||i(!1,null)},n)}function q(e,s){return e===s||(e==null?void 0:e[Z])===s}function $e(e={},s,t,a){return he(()=>{var n,i;return le(()=>{n=i,i=[],G(()=>{e!==t(...i)&&(s(e,...i),n&&q(t(...n),e)&&s(null,...n))})}),()=>{oe(()=>{i&&q(t(...i),e)&&s(null,...i)})}}),e}let R=!1,M=Symbol();function He(e,s,t){const a=t[s]??(t[s]={store:null,source:be(void 0),unsubscribe:k});if(a.store!==e&&!(M in t))if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=k;else{var n=!0;a.unsubscribe=we(e,i=>{n?a.source.v=i:z(a.source,i)}),n=!1}return e&&M in t?Ye(e):p(a.source)}function ke(){const e={};function s(){_e(()=>{for(var t in e)e[t].unsubscribe();ve(e,M,{enumerable:!1,value:!0})})}return[e,s]}function Ue(e){var s=R;try{return R=!1,[e(),R]}finally{R=s}}function qe(e,s,t,a){var w;var n=!pe||(t&Oe)!==0,i=(t&Re)!==0,u=(t&Me)!==0,f=a,c=!0,_=()=>(c&&(c=!1,f=u?G(a):a),f),v;if(i){var J=Z in e||Le in e;v=((w=ge(e,s))==null?void 0:w.set)??(J&&s in e?d=>e[s]=d:void 0)}var T,L=!1;i?[T,L]=Ue(()=>e[s]):T=e[s],T===void 0&&a!==void 0&&(T=_(),v&&(n&&Se(),v(T)));var S;if(n?S=()=>{var d=e[s];return d===void 0?_():(c=!0,d)}:S=()=>{var d=e[s];return d!==void 0&&(f=void 0),d===void 0?f:d},n&&(t&Te)===0)return S;if(v){var K=e.$$legacy;return(function(d,P){return arguments.length>0?((!n||!P||K||L)&&v(P?S():d),d):S()})}var m=!1,A=((t&me)!==0?De:Ne)(()=>(m=!1,S()));i&&p(A);var Q=Ie;return(function(d,P){if(arguments.length>0){const Y=P?p(A):n&&i?Ae(d):d;return z(A,Y),m=!0,f!==void 0&&(f=Y),d}return Ee&&m||(Q.f&Pe)!==0?A.v:p(A)})}export{Be as B,ke as a,$e as b,Fe as i,qe as p,He as s};
